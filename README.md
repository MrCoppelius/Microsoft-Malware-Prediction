# Malware ML

## Задание

В ходе задания Вам предстоит разработать классификатор вредоносных файлов. В качестве обучающей выборки используйте набор данных об вредоносных программах с kaggle конкурса [Microsoft Malware Prediction](https://www.kaggle.com/c/microsoft-malware-prediction/data)

В результате выполнения задания у Вас должен быть репозиторий в [Gitlab](sb.filonovpv.name), который должен содержать Merge Request в ветку master. В этом MR должны присутствовать следующие артефакты:

1. Jupyter notebook и его преобразование в .md, который содержит 
    * код для исследования набора данных
    * извлечения признаков
    * обучение и сравнение минимум 2-х ML моделей
    * проверка качества моделей на отложенной выборке
    * сохранение модели в виде файла на диске в удобном формате
    * сохранить jupyter notebook в md файл можно с помощью команды `jupyter nbconvert --ClearOutputPreprocessor.enabled=True --to markdown <FILE_NAME>`
2. Python скрипт, который считывает обученную модель из файла и применяет ее к данным, которые он читает из stdin. 

Дополнительно приветсвуются следующие пункты:
1. Модульные и инеграционные тесты на вспомогательные функции и скрипт для предсказания
2. Логирование результатов применения скрипта а базу данных, для последующего анализа качества
3. Jupyter notebook, для анализа логов из базы данных и измерения качества модели при применении

При создании MR необходимо упомянуть в комментариях группу MLTeam, которая будет проводить Code Review Ваших решений. Они будут оставлять комментарии и предложения по исправлениям, на которые необходимо реагировать.

В конце будет дан общий комментарий с оценкой работы.

Авторы лучших работ будут приглашены, чтобы защитить их результаты в виде короткой (10 минут) презентации.


## Установка

- Создайте виртуальное окружение `virtualenv --python=python3.7 <path_to_dir_where_env_will_be_stored>`;
- Активируйте окружение `source <path_to_the_dir/bin/activate>`, для выхода используйте команду `deactivate`;
- Установите проект как пакет вместе с зависмостями`pip install -e .`;
- Зависимости можно установить отдельно `pip install -r requirements.txt`;
- Добавьте в `jupyter notebook` созданное ранее виртуальное окружение как новый `Kernel`.
Находясь в виртуальном окружении выполните команду
`python -m IPython kernel install --user --name=<name_of_kernel>`.  
Теперь вы можете переключиться на нужное ядро через `Kernel` > `Change kernel` прямо в открытом ноутбуке с кодом.

## Структура репозитория

```
.
├── data                # директория для хранения исходных данных на диске
├── malware_ml          # директория проекта
├── models              # директория для хранения моделей на диске
├── notebooks           # jupyter ноутбуки
├── storage             # директория для хранения данных БД на диске
├── tests               # директория с тестами
├── README.md           # Краткое описание проекта в формате markdown
├── malware_detector.py # скрипт, применяющий нашу модель
├── requirements.txt    # файл с python зависимостями
├── setup.py            # для использования репозитория как python пакета
```

## Использование malware-детектора

- Запустить скрипт `malware_detector.py`;
- Подавать в `stdin` данные в формате json;
- Для окончания работы подвать в `stdin` строку `stop`.


## Контакты для связи

https://t.me/joinchat/D2rdy1Va2vWIyfDOS5V43w
